{% extends 'base.html.twig' %}

{% block body %}
<style>
    .example-wrapper { margin: 10px; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>GAME OVER</h1>
    <table class="table">
        <thead class="thead-dark">
        <tr>
            <th scope="col">#</th>
            {% for key, value in result.user1 %}
                <th>Round {{ key+1|e }}</th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>

        {% for key, value in result %}
        <tr>
            <th scope="row">{{ key }}</th>
                {% for score in value %}
                    <td>{{ score|e }}</td>
                {% endfor %}
        </tr>
        {% endfor %}
        </tbody>
    </table>
    <h2>Congratulations {{ winner }}!</h2>

</div>
    <script>
        $.ajax({
            type: 'POST',
            url: '/set-result',
            data: { winner: '{{ winner }}', result: '{{ bestScore }}' },
            dataType: 'json'
        });
    </script>
{% endblock %}
